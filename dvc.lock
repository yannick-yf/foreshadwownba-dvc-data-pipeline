schema: '2.0'
stages:
  gamelog_data_acquisition:
    cmd: python3 -m src.exctract.gamelog_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/gamelog_data_acquisition.py
      hash: md5
      md5: 5de16521cd47e29f4711f5c5bdb65e6e
      size: 1921
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_data_acquisition:
          season: 2010
          team: all
          data_type: gamelog
          output_folder: pipeline_output/gamelog
  schedule_data_acquisition:
    cmd: python3 -m src.exctract.schedule_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/schedule_data_acquisition.py
      hash: md5
      md5: 32e769b8f4ebd6d1a8f761364035c739
      size: 1934
    params:
      params.yaml:
        base:
          log_level: INFO
        schedule_data_acquisition:
          season: 2010
          team: all
          data_type: schedule
          output_folder: pipeline_output/schedule
  player_attributes_data_acquisition:
    cmd: python3 -m src.exctract.player_attributes_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/player_attributes_data_acquisition.py
      hash: md5
      md5: ed2942ad0b4297e24c26f326720eff4a
      size: 2051
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_data_acquisition:
          season: 2024
          team: all
          data_type: player_attributes
          output_folder: pipeline_output/player_attributes
  player_salary_data_acquisition:
    cmd: python3 -m src.exctract.player_salary_data_acquisition --config=params.yaml
    deps:
    - path: src/exctract/player_salary_data_acquisition.py
      hash: md5
      md5: 0b766b33e3db73b61884252e9df77417
      size: 4422
    params:
      params.yaml:
        base:
          log_level: INFO
        player_salary_data_acquisition:
          season: 2024
          data_type: player_salary
          output_folder: pipeline_output/player_salary
  gamelog_schedule_unification:
    cmd: python3 -m src.transform.gamelog_schedule_unification --config=params.yaml
    deps:
    - path: src/transform/gamelog_schedule_unification.py
      hash: md5
      md5: 550c620fa6c3f1f88d2ee12387d881aa
      size: 2363
    params:
      params.yaml:
        base:
          log_level: INFO
        gamelog_schedule_unification:
          data_path: pipeline_output/final/
          file_name: nba_games_training_dataset
  player_attributes_salaries_unification:
    cmd: python3 -m src.transform.player_attributes_salaries_unification --config=params.yaml
    deps:
    - path: src/transform/player_attributes_salaries_unification.py
      hash: md5
      md5: db69057207ecb219595a685e13478e4f
      size: 4653
    params:
      params.yaml:
        base:
          log_level: INFO
        player_attributes_salaries_unification:
          data_path: pipeline_output/final/
          file_name: player_attributes_salaries_dataset
  get_training_dataset:
    cmd: python3 -m src.get_training_dataset --config=params.yaml
    deps:
    - path: src/get_training_dataset.py
      hash: md5
      md5: d2fd00ff6fa681811941ddf48a915a25
      size: 2382
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/input/nba_games_training_dataset.csv
      hash: md5
      md5: d867af8791f48c884dd6cae884f7962b
      size: 6680883
    - path: ./data/input/player_attributes_salaries_dataset.csv
      hash: md5
      md5: 88841bb6be12f97a6790a135c08b419e
      size: 459953
  pre_cleaning_dataset:
    cmd: python3 -m src.pre_cleaning_dataset --config=params.yaml
    deps:
    - path: ./data/input/nba_games_training_dataset.csv
      hash: md5
      md5: d867af8791f48c884dd6cae884f7962b
      size: 6680883
    - path: src/pre_cleaning_dataset.py
      hash: md5
      md5: 4736952a7c7df0f5d3639b70a15ec219
      size: 1979
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/processed/nba_games_training_dataset_pre_cleaned.csv
      hash: md5
      md5: 058b9a51d277fbad55a0b4cbeedcc839
      size: 2559722
  previous_games_average_features:
    cmd: python3 -m src.previous_games_average_features --config=params.yaml
    deps:
    - path: src/previous_games_average_features.py
      hash: md5
      md5: b5d2a97c8939937949b5e36d36d2e23a
      size: 3901
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/processed/nba_games_training_dataset_previous_games_features.csv
      hash: md5
      md5: 8cf557557a1af1b8c7988dc3b6eb6620
      size: 57972848
  elo_features:
    cmd: python3 -m src.elo_features --config=params.yaml
    deps:
    - path: src/elo_features.py
      hash: md5
      md5: 06b6fce8f72f1408d03de4076ea0ed93
      size: 8603
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/processed/nba_games_training_dataset_elo_features.csv
      hash: md5
      md5: cf59aeb8577a6b3145e5b1955e3300ce
      size: 116550825
  previous_games_ratio_average_features:
    cmd: python3 -m src.previous_games_ratio_average_features --config=params.yaml
    deps:
    - path: src/previous_games_ratio_average_features.py
      hash: md5
      md5: 81b2a5ee62be721fd4fd6ffca1728ada
      size: 3838
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
  features_engineering_pipeline:
    cmd: python3 -m src.features_engineering --config=params.yaml
    deps:
    - path: ./data/processed/nba_games_training_dataset_pre_cleaned.csv
      hash: md5
      md5: 058b9a51d277fbad55a0b4cbeedcc839
      size: 2559722
    - path: src/features_engineering.py
      hash: md5
      md5: 28ac9cfd42e4ee22c64d0b1a32682b75
      size: 9865
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/processed/nba_games_training_dataset_cleaned_w_features.csv
      hash: md5
      md5: 162ca37001d63a6fc6b264e9b37cf975
      size: 12975823
  get_y_variables:
    cmd: python3 -m src.get_y_variables --config=params.yaml
    deps:
    - path: ./data/processed/nba_games_training_dataset_cleaned_w_features.csv
      hash: md5
      md5: 162ca37001d63a6fc6b264e9b37cf975
      size: 12975823
    - path: src/get_y_variables.py
      hash: md5
      md5: 1accdff12625f1fed4981b9c8770507a
      size: 3710
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
    outs:
    - path: ./data/output/nba_games_training_dataset_final.csv
      hash: md5
      md5: 707fa20bd1f9a260cb39fed0b6fd0b19
      size: 13235782
  load_training_dataset_to_db:
    cmd: python3 -m src.load_training_dataset_to_db --config=params.yaml
    deps:
    - path: ./data/output/nba_games_training_dataset_final.csv
      hash: md5
      md5: 707fa20bd1f9a260cb39fed0b6fd0b19
      size: 13235782
    - path: src/load_training_dataset_to_db.py
      hash: md5
      md5: 3ccd3cad7454d20f9fd36ae0a158eaee
      size: 2541
    params:
      params.yaml:
        base:
          log_level: INFO
        get_training_dataset:
          nba_games_training_dataset: nba_games_training_dataset
          player_attributes_salaries_dataset: player_attributes_salaries_dataset
